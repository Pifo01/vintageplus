{% extends "header.html" %}
{% block customstyle %}
<style>
    .empty-space {
        height: 30px;
    }
</style>
{% endblock %}
{% block content %}
<div class="container mt-5">
    {% if user.is_authenticated and user.is_superuser %}
    
    <!-- Sección de Marcas -->
    <div class="container text-center bg-dark p-3 rounded-top border-bottom">
        <div class="row">
            <div class="col">
                
            </div>
            <div class="col">
                <p class="text-white fs-2 m-0">Sección de Marcas</p>
            </div>
            <div class="col text-end align-self-center">
                <a href="/create-marcaarticulo/" class="btn btn-success">
                    <i class="bi bi-plus-lg"></i> Agregar Marca
                </a>
            </div>
        </div>
    </div>
    {%endif%}
    
    {%if Marca%}
        <table class="table table-striped table-dark table-hover align-middle rounded-bottom">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Nombre</th>
                    <th>Empresa</th>
                    <th>Linea</th>
                    <th colspan="2">Acciones</th>
                </tr>
            </thead>
            <tbody>
                {%for zm in Marca%}
                <tr {% if forloop.last %}class="rounded-2"{% endif %}>
                    <td>{{zm.id}}</td>
                    <td>{{zm.nombre}}</td>
                    <td>{{zm.empresa}}</td>
                    <td>{{zm.linea}}</td>
                    <td>
                        <a href="/update-marcaarticulo/{{zm.id}}" class='btn btn-warning btn-sm'>
                            <i class="bi bi-pencil"></i> Editar
                        </a>
                    </td>
                    <td>
                        <a href="/delete-marcaarticulo/{{zm.id}}" class='btn btn-danger btn-sm'>
                            <i class="bi bi-trash"></i> Eliminar
                        </a>
                    </td>
                </tr>
                {%endfor%}
            </tbody>
        </table>
    {%else%}
        <p class="text-center text-muted mt-3">No hay marcas disponibles.</p>

    <!-- Sección de Cards -->
    <h2 class="text-center text-white bg-dark p-3 rounded-top mt-5">Sección de Cards</h2>
    {%endif%}
    <div class="empty-space"></div>

    <div class="container text-center bg-dark p-3 rounded-top border-bottom">
        <div class="row">
            <div class="col">
            </div>
            <div class="col">
                <p class="text-white fs-2 m-0">Sección de Cards</p>
            </div>
            <div class="col text-end align-self-center">
                <a href="/create-cards/" class="btn btn-success">
                    <i class="bi bi-plus-lg"></i> Agregar Card
                </a>
            </div>
        </div>
    </div>
    
    {%if cards%}
        <table class="table table-striped table-dark table-hover align-middle rounded-bottom">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Título</th>
                    <th>Imagen</th>
                    <th>Marca</th>
                    <th colspan="2">Acciones</th>
                </tr>
            </thead>
            <tbody>
                {%for card in cards%}
                <tr>
                    <td>{{card.id}}</td>
                    <td>{{card.titulo}}</td>
                    <td>
                        <button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#modal-cards{{card.id}}">
                            <i class="bi bi-image"></i> Ver Imagen
                        </button>
                    </td>
                    <td>{{card.marca.nombre}}</td>
                    <td>
                        <a href="/update-cards/{{card.id}}" class='btn btn-warning btn-sm'>
                            <i class="bi bi-pencil"></i> Editar
                        </a>
                    </td>
                    <td>
                        <a href="/delete-cards/{{card.id}}" class='btn btn-danger btn-sm'>
                            <i class="bi bi-trash"></i> Eliminar
                        </a>
                    </td>
                </tr>

                <div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true" id="modal-cards{{card.id}}">
                    <div class="modal-dialog modal-dialog-scrollable">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h1 class="modal-title fs-5" id="staticBackdropLabel">Modal title</h1>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body mx-auto">
                            <img src="{{card.imagen.url}}" class="img-fluid" alt="">
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Cerrar</button>
                        </div>
                    </div>
                </div>
                {%endfor%}
            </tbody>
        </table>
    {%else%}
        <p class="text-center text-muted mt-3">No hay cards disponibles.</p>

    <!-- Sección de Artículos -->
    <h2 class="text-center text-white bg-dark p-3 rounded-top mt-5">Sección de Artículos</h2>
    {%endif%}
    <div class="empty-space"></div>

    <div class="container text-center bg-dark p-3 rounded-top border-bottom">
        <div class="row">
            <div class="col">
            </div>
            <div class="col">
                <p class="text-white fs-2 m-0">Sección de Artículos</p>
            </div>
            <div class="col text-end align-self-center">
                <a href="/dashboard/articulos/crear/" class="btn btn-success">
                    <i class="bi bi-plus-lg"></i> Agregar Artículo
                </a>
            </div>
        </div>
    </div>
    {%if Articulo%}
        <table class="table table-striped table-dark table-hover align-middle rounded-bottom">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Imagen</th>
                    <th>Nombre</th>
                    <th>Precio</th>
                    <th>Descripción</th>
                    <th>Stock</th>
                    <th>Color</th>
                    <th>Género</th>
                    <th>Talla</th>
                    <th>Tipo</th>
                    <th>Marca</th>
                    <th colspan="3">Acciones</th>
                </tr>
            </thead>
            <tbody>
                {%for ar in Articulo%}
                <tr>
                    <td>{{ar.id}}</td>
                    <td>
                        <button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#modalimg-{{ar.id}}">
                            <i class="bi bi-image"></i> Ver Imagen
                        </button>
                    </td>
                    <td>{{ar.nombre}}</td>
                    <td>${{ar.precio}}</td>
                    <td>{{ar.descripcion|truncatechars:24}}</td>
                    <td>{{ar.stock}}</td>
                    <td>{{ar.color}}</td>
                    <td>{{ar.genero}}</td>
                    <td>{{ar.talla}}</td>
                    <td>{{ar.tipo}}</td>
                    <td>{{ar.marca}}</td>
                    <td>
                        <a href="/dashboard/articulos/ver/{{ar.id}}" class='btn btn-success btn-sm'>
                            <i class="bi bi-eye"></i> Ver
                        </a>
                    </td>
                    <td>
                        <a href="/dashboard/articulos/actualizar/{{ar.id}}" class='btn btn-warning btn-sm'>
                            <i class="bi bi-pencil"></i> Editar
                        </a>
                    </td>
                    <td>
                        <a href="/dashboard/articulos/borrar/{{ar.id}}" class='btn btn-danger btn-sm'>
                            <i class="bi bi-trash"></i> Eliminar
                        </a>
                    </td>
                </tr>

                <div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true" id="modalimg-{{ar.id}}">
                    <div class="modal-dialog modal-dialog-scrollable">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h1 class="modal-title fs-5" id="staticBackdropLabel">Modal title</h1>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body mx-auto">
                            <img src="{{ar.imagen.url}}" class="img-fluid" alt="">
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Cerrar</button>
                        </div>
                      </div>
                    </div>
                  </div>
                {%endfor%}
            </tbody>
        </table>
    {%else%}
        <p class="text-center text-muted mt-3">No hay artículos disponibles.</p>
    {%endif%}
</div>
{% endblock %}